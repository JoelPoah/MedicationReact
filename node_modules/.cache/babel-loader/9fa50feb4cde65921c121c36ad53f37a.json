{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\react\\\\react-website-v1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\react\\\\react-website-v1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import'../../App.css';import Cards from'../Cards';import HeroSection from'../HeroSection';import Footer from'../Footer';import TodoList from'../TodoList';var _require=require('uuid'),uuidv4=_require.v4;var LOCAL_STORAGE_KEY='todoApp.todos';function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var todoNameRef=useRef();useEffect(function(){var storedTodos=JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));if(storedTodos)setTodos(storedTodos);},[]);useEffect(function(){localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(todos));},[todos]);function toggleTodo(id){var newTodos=_toConsumableArray(todos);var todo=newTodos.find(function(todo){return todo.id===id;});todo.complete=!todo.complete;setTodos(newTodos);}function handleAddTodo(e){var name=todoNameRef.current.value;if(name==='')return;setTodos(function(prevTodos){return[].concat(_toConsumableArray(prevTodos),[{id:uuidv4(),name:name,complete:false}]);});console.log(name);todoNameRef.current.value=null;}function handleClearTodos(){var newTodos=todos.filter(function(todo){return!todo.complete;});setTodos(newTodos);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(HeroSection,null),/*#__PURE__*/React.createElement(Cards,null),/*#__PURE__*/React.createElement(TodoList,{todos:todos,toggleTodo:toggleTodo}),/*#__PURE__*/React.createElement(\"input\",{ref:todoNameRef,type:\"text\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:handleAddTodo},\"Add Todo\"),/*#__PURE__*/React.createElement(\"button\",{onClick:handleClearTodos},\"Clear Complete\"),/*#__PURE__*/React.createElement(\"div\",null,todos.filter(function(todo){return!todo.complete;}).length),/*#__PURE__*/React.createElement(Footer,null));}export default Home;","map":{"version":3,"names":["React","useState","useRef","useEffect","Cards","HeroSection","Footer","TodoList","require","uuidv4","v4","LOCAL_STORAGE_KEY","Home","todos","setTodos","todoNameRef","storedTodos","JSON","parse","localStorage","getItem","setItem","stringify","toggleTodo","id","newTodos","todo","find","complete","handleAddTodo","e","name","current","value","prevTodos","console","log","handleClearTodos","filter","length"],"sources":["C:/Users/Admin/Desktop/react/react-website-v1/src/components/pages/Home.js"],"sourcesContent":["import React ,{useState , useRef , useEffect} from 'react';\r\nimport '../../App.css';\r\nimport Cards from '../Cards';\r\nimport HeroSection from '../HeroSection';\r\nimport Footer from '../Footer';\r\nimport TodoList from '../TodoList';\r\nconst { v4: uuidv4 } = require('uuid');\r\n\r\nconst LOCAL_STORAGE_KEY = 'todoApp.todos'\r\n\r\nfunction Home() {\r\n  const [todos,setTodos] = useState([])\r\n  const todoNameRef = useRef()\r\n\r\n  useEffect(() => {\r\n    const storedTodos = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY))\r\n    if (storedTodos) setTodos(storedTodos)\r\n  },[])\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(todos))\r\n  },[todos])\r\n\r\n  function toggleTodo(id){\r\n    const newTodos =[...todos]\r\n    const todo = newTodos.find(todo => todo.id === id)\r\n    todo.complete = !todo.complete\r\n    setTodos(newTodos)\r\n  }\r\n\r\n  function handleAddTodo(e){\r\n    const name = todoNameRef.current.value\r\n    if (name === '') return\r\n    setTodos(prevTodos =>{\r\n      return[...prevTodos,{id:uuidv4(),name:name,complete:false}]\r\n    })\r\n    console.log(name)\r\n    todoNameRef.current.value = null\r\n  }\r\n\r\n  function handleClearTodos(){\r\n    const newTodos = todos.filter( todo => !todo.complete)\r\n    setTodos(newTodos)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <HeroSection />\r\n      <Cards />\r\n      <TodoList todos={todos} toggleTodo={toggleTodo}/>\r\n      <input ref={todoNameRef} type = \"text\"/>\r\n      <button onClick={handleAddTodo}>Add Todo</button>\r\n      <button onClick={handleClearTodos}>Clear Complete</button>\r\n      <div>{todos.filter(todo => !todo.complete).length}</div>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":"oWAAA,MAAOA,MAAP,EAAeC,QAAf,CAA0BC,MAA1B,CAAmCC,SAAnC,KAAmD,OAAnD,CACA,MAAO,eAAP,CACA,MAAOC,MAAP,KAAkB,UAAlB,CACA,MAAOC,YAAP,KAAwB,gBAAxB,CACA,MAAOC,OAAP,KAAmB,WAAnB,CACA,MAAOC,SAAP,KAAqB,aAArB,CACA,aAAuBC,OAAO,CAAC,MAAD,CAA9B,CAAYC,MAAZ,UAAQC,EAAR,CAEA,GAAMC,kBAAiB,CAAG,eAA1B,CAEA,QAASC,KAAT,EAAgB,CACd,cAAyBX,QAAQ,CAAC,EAAD,CAAjC,wCAAOY,KAAP,eAAaC,QAAb,eACA,GAAMC,YAAW,CAAGb,MAAM,EAA1B,CAEAC,SAAS,CAAC,UAAM,CACd,GAAMa,YAAW,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBT,iBAArB,CAAX,CAApB,CACA,GAAIK,WAAJ,CAAiBF,QAAQ,CAACE,WAAD,CAAR,CAClB,CAHQ,CAGP,EAHO,CAAT,CAKAb,SAAS,CAAC,UAAM,CACdgB,YAAY,CAACE,OAAb,CAAqBV,iBAArB,CAAwCM,IAAI,CAACK,SAAL,CAAeT,KAAf,CAAxC,EACD,CAFQ,CAEP,CAACA,KAAD,CAFO,CAAT,CAIA,QAASU,WAAT,CAAoBC,EAApB,CAAuB,CACrB,GAAMC,SAAQ,oBAAMZ,KAAN,CAAd,CACA,GAAMa,KAAI,CAAGD,QAAQ,CAACE,IAAT,CAAc,SAAAD,IAAI,QAAIA,KAAI,CAACF,EAAL,GAAYA,EAAhB,EAAlB,CAAb,CACAE,IAAI,CAACE,QAAL,CAAgB,CAACF,IAAI,CAACE,QAAtB,CACAd,QAAQ,CAACW,QAAD,CAAR,CACD,CAED,QAASI,cAAT,CAAuBC,CAAvB,CAAyB,CACvB,GAAMC,KAAI,CAAGhB,WAAW,CAACiB,OAAZ,CAAoBC,KAAjC,CACA,GAAIF,IAAI,GAAK,EAAb,CAAiB,OACjBjB,QAAQ,CAAC,SAAAoB,SAAS,CAAG,CACnB,mCAAUA,SAAV,GAAoB,CAACV,EAAE,CAACf,MAAM,EAAV,CAAasB,IAAI,CAACA,IAAlB,CAAuBH,QAAQ,CAAC,KAAhC,CAApB,GACD,CAFO,CAAR,CAGAO,OAAO,CAACC,GAAR,CAAYL,IAAZ,EACAhB,WAAW,CAACiB,OAAZ,CAAoBC,KAApB,CAA4B,IAA5B,CACD,CAED,QAASI,iBAAT,EAA2B,CACzB,GAAMZ,SAAQ,CAAGZ,KAAK,CAACyB,MAAN,CAAc,SAAAZ,IAAI,QAAI,CAACA,IAAI,CAACE,QAAV,EAAlB,CAAjB,CACAd,QAAQ,CAACW,QAAD,CAAR,CACD,CAED,mBACE,qDACE,oBAAC,WAAD,MADF,cAEE,oBAAC,KAAD,MAFF,cAGE,oBAAC,QAAD,EAAU,KAAK,CAAEZ,KAAjB,CAAwB,UAAU,CAAEU,UAApC,EAHF,cAIE,6BAAO,GAAG,CAAER,WAAZ,CAAyB,IAAI,CAAG,MAAhC,EAJF,cAKE,8BAAQ,OAAO,CAAEc,aAAjB,aALF,cAME,8BAAQ,OAAO,CAAEQ,gBAAjB,mBANF,cAOE,+BAAMxB,KAAK,CAACyB,MAAN,CAAa,SAAAZ,IAAI,QAAI,CAACA,IAAI,CAACE,QAAV,EAAjB,EAAqCW,MAA3C,CAPF,cAQE,oBAAC,MAAD,MARF,CADF,CAYD,CAED,cAAe3B,KAAf"},"metadata":{},"sourceType":"module"}